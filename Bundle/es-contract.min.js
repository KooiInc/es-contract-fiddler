function i(t,...n){let e=typeof t=="symbol"?Symbol("any"):t;return n.length>1?I(e,...n):D(e,...n)}function D(t,...n){let{compareWith:e,inputIsNothing:o,shouldBeIsNothing:r,inputCTOR:a,is_NAN:c}=M(t,...n);return c&&e?(e=C({trial:d=>String(e),whenError:d=>""}),e===String(t)||n===Number):o||r?r?String(t)===String(e):e?!1:`${t}`:a===Boolean?e?a===e:"Boolean":R(t,e,j(t,a))}function j(t,n){return t===0?Number:t===""?String:t?n:{name:String(t)}}function M(t,...n){let e=n.length>0,o=e&&n.shift(),r=V(t),a=e&&V(o),c=!r&&Object.getPrototypeOf(t)?.constructor,d=C({trial:g=>String(t),whenError:g=>""})==="NaN";return{compareWith:o,inputIsNothing:r,shouldBeIsNothing:a,inputCTOR:c,is_NAN:d}}function R(t,n,e){return C({trial:o=>String(n),whenError:o=>"-"})==="NaN"?String(t)==="NaN":n?C({trial:o=>t instanceof n,whenError:o=>!1})||n===e||n===Object.getPrototypeOf(e)||`${n?.name}`===e?.name:e?.name}function I(t,...n){for(let e of n)if(i(t,e))return!0;return!1}function V(t){return C({trial:n=>/^(undefined|null)$/.test(String(t)),whenError:n=>!1})}function C({trial:t,whenError:n=e=>console.log(e)}={}){if(!t||!(t instanceof Function))return console.info("TypeofAnything {maybe}: trial parameter not a Function or Lambda"),!1;try{return t()}catch(e){return n(e)}}function E({IS:t,tryJSON:n,contractsPrefix:e}={}){return e=e&&`${e}
`||"",{EN:{unknownOrNa:"unknown or n/a",unknown:"unknown",nameOkExpected:"The contract to add needs a name (String)",isMethodExpected:"The contract to add needs a method (Function)",expectedOkExpected:"The contract to add needs an expected value method (String|Function)",addContracts_Contract_Expected:"the parameter for [addContracts] should be at least { [contractName]: { method: Function, expected: String|Function } }",addContract_Contract_Expected:`addContract parameters should at least be {name, method, expected}
(when method is a named function, the name was derived from that)`,report_sorry:(o,r)=>`\u2718 ${e}Contract violation for contract [${o}], input ${r}`,report_forValue:o=>`${o}`,report_Expected:o=>`
${o}`,report_defaultValue:(o,r)=>o?"":`
Using the contract default value (${t(r,Function)?r.toString():t(r,String)?`"${r}"`:n(r)}) instead`},NL:{unknownOrNa:"onbekend of nvt",unknown:"onbekend",nameOkExpected:"Het contract moet een naam hebben (eigenschap name: String)",isMethodExpected:"Het contract moet kunnen worden uitgevoerd (eigenschap method: Function)",expectedOkExpected:"Het contract moet aangeven wat er wordt verwacht (eigenschap expected: String|Function)",addContracts_Contract_Expected:"De parameter for [addContracts] moet tenminste { [contractName]: { method: Function, expected: String|Function } } zijn",addContract_Contract_Expected:`De invoer vooor [addContract] moet tenminste {name, method, expected} zijn
(wanneer de eigenschap [method] een functie met naam was wordt [name] daarvan afgeleid)`,report_sorry:(o,r)=>`\u2718 ${e} Contractbreuk voor contract [${o}], input ${r}`,report_forValue:o=>`${o}`,report_Expected:o=>`
${o}`,report_defaultValue:(o,r)=>o?"":`
In plaats daarvan wordt de voor dit contract toegekende standaardwaarde (${t(r,Function)?r.toString():t(r,String)?`"${r}"`:n(r)}) gebruikt`}}}var s,Q=B,O=A(),$=P();function B(t){d(t);let{reporter:n,logViolations:e,alwaysThrow:o,language:r,contractsPrefix:a}=t;s=E({IS:i,tryJSON:x,contractsPrefix:a})[r];let c={addContract:y,addContracts:g};return z(c),Object.freeze({contracts:c,IS:i,tryJSON:x});function d(u){u.reporter=u.reporter||k,u.logViolations=u.logViolations||!1,u.alwaysThrow=u.alwaysThrow||!1,u.language=u.language||"EN"}function g(u){if(!c.addContracts_Contract(u))return;let f=Object.entries(u);for(let[l,p]of f)y({...p,paramsChecked:!0,name:l})}function y(u=O.addContract){let{name:f,method:l,expected:p,defaultValue:h,customReport:m,reportFn:N,shouldThrow:S,reportViolationsByDefault:w,paramsChecked:_}=u;f=f||l?.name;let F=c.addContract_Contract||$.checkSingleContractParameters;if(!_&&!F({name:f,method:l,expected:p}))return;let T=v({name:f,method:l,expected:p,defaultValue:h,reporter:n,reportFn:N,customReport:m,reportViolationsByDefault:w,logViolations:e,shouldThrow:S,alwaysThrow:o});return Object.defineProperty(c,f,{value:T,enumerable:!0})}}function v(t=O.createContract){let{name:n,method:e,expected:o,defaultValue:r,customReport:a,reportFn:c,reporter:d,logViolations:g,shouldThrow:y,reportViolationsByDefault:u,alwaysThrow:f}=t;return function(l,...p){let h=e(l,...p),m=i(p[0],Object)&&{...p[0],value:l}||{value:l};if(c=c??d??k,i(a,Function)&&a(m),b(h)){let N=i(o,Function)?o(m):o;h=!b(m.defaultValue)||r?m.defaultValue||r:h;let[S,w]=[m.reportViolation??u,m.shouldThrow??y];if(S||w||g){let _=L({inputValue:l,defaultValue:h,shouldBe:N,fnName:n||e.name});if(w||f)throw new TypeError(_);d(_)}}return h}}function A(){let[t,n,e,o,r,a,c]=[...Array(7)];return{get reportViolations(){return{inputValue:c,defaultValue:o,shouldBe:s.unknowOrNa,fnName:s.unknown}},get createContract(){return{name:t,method:n,expected:e,defaultValue:o,customReport:r,reportFn:a,reporter:k,logViolations:!1,shouldThrow:!1,alwaysThrow:!1,reportViolationsByDefault:!1}},get addContract(){return{name:t,method:n,expected:e,defaultValue:o,customReport:r,reportFn:a,reporter:k,shouldThrow:!1,reportViolationsByDefault:!1,paramsChecked:!1}}}}function P(){let t=r=>i(r,String)&&r.trim().length,n=r=>i(r,String)&&r.length||i(r,Function),e=r=>i(r,Function);return{nameOk:t,expectedOk:n,isMethod:e,checkSingleContractParameters:({name:r,method:a,expected:c}={})=>r&&t(r)&&a&&e(a)&&c&&n(c)}}function z(t){let{nameOk:n,expectedOk:e,isMethod:o,checkSingleContractParameters:r}=$;t.addContract({method:n,expected:s.nameOkExpected,reportViolationsByDefault:!0}),t.addContract({method:o,expected:s.isMethodExpected,reportViolationsByDefault:!0}),t.addContract({method:e,expected:s.expectedOkExpected,reportViolationsByDefault:!0}),t.addContract({name:"addContracts_Contract",method:a=>i(a,Object)&&[...Object.entries(a)].filter(([,d])=>d.method&&o(d.method)&&d.expected&&e(d.expected)).length>0?a:void 0,expected:s.addContracts_Contract_Expected,reportViolationsByDefault:!0}),t.addContract({name:"addContract_Contract",method:r,expected:s.addContract_Contract_Expected,reportViolationsByDefault:!0})}function L(t=O.reportViolations){let{inputValue:n,defaultValue:e,shouldBe:o,fnName:r}=t,a=s.report_sorry(r,W(n)),c=s.report_forValue(a),d=s.report_Expected(o),g=s.report_defaultValue(b(e),e);return H(`${c}${d}${g}`)}function H(t,n=3){return t.replace(/\n/g,`
${" ".repeat(n)}`)}function b(t){return i(t,void 0,null,NaN)}function x(t){return J(()=>{let e=JSON.stringify(t);return/Infinity|NaN/.test(e)?e.replace(/"/g,""):e},t)}function W(t){let n=e=>i(e,String)?`"${e}"`:i(e,Object)?x(e):String(e);return i(t,String)?`"${t}"`:i(t,Object)?x(t):/Array\(/.test(t?.constructor.toString())?`[${[...t].map(n)}]`:String(t)}function k(t){console.info(t)}function J(t,n){try{return t()}catch(e){return console.error({isOk:e.name===expected,message:e.message,type:e.name}),n}}export{Q as default};
