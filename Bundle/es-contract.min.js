import a from"https://unpkg.com/typeofanything@latest/typeofany.module.js";function b({IS:t,tryJSON:r,contractsPrefix:n}={}){return n=n?`${n}
`:"",{EN:{contractCreationError:"\u2718 (one or more of) the contract(s) could not be created. A contract should at least contain a [method], its value must be a function.",unknownOrNa:"unknown or n/a",unknown:"unknown",nameOkExpected:"The contract to add needs a name (String)",isMethodExpected:"The contract to add needs a method (Function)",expectedOkExpected:"The contract to add needs an expected value method (String|Function)",addContracts_Contract_Expected:"the parameter for [addContracts] should be at least { [contractName]: { method: Function, expected: String|Function } }",addContract_Contract_Expected:`addContract parameters should at least be {name, method, expected}
(when method is a named function, the name was derived from that)`,report_sorry:(e,o)=>`\u2718 ${n}Contract violation for contract [${e}], input ${o}`,report_forValue:e=>`${e}`,report_Expected:e=>`
Expected (according to contract 'expected' value):
"${e}"`,report_defaultValue:e=>`
Using the contract default value (${t(e,Function)?e.toString():t(e,String)?`"${e}"`:r(e)}) instead`},NL:{contractCreationError:"\u2718 (\xE9\xE9n of meer) contract(en) konden niet worden gecre\xEBerd. Een contract moet tenminste de eigenschap [method] met een functie als waarde hebben.",unknownOrNa:"onbekend of nvt",unknown:"onbekend",nameOkExpected:"Het contract moet een naam hebben (eigenschap name: String)",isMethodExpected:"Het contract moet kunnen worden uitgevoerd (eigenschap method: Function)",expectedOkExpected:"Het contract moet aangeven wat er wordt verwacht (eigenschap expected: String|Function)",addContracts_Contract_Expected:"De parameter for [addContracts] moet tenminste { [contractName]: { method: Function, expected: String|Function } } zijn",addContract_Contract_Expected:`De invoer vooor [addContract] moet tenminste {name, method, expected} zijn
(wanneer de eigenschap [method] een functie met naam was wordt [name] daarvan afgeleid)`,report_sorry:(e,o)=>`\u2718 ${n} Contractbreuk voor contract [${e}], input ${o}`,report_forValue:e=>`${e}`,report_Expected:e=>`
Verwacht werd (volgens contract 'expected'):
"${e.trim()}"`,report_defaultValue:e=>`
In plaats daarvan wordt de voor dit contract toegekende standaardwaarde (${t(e,Function)?e.toString():t(e,String)?`"${e}"`:r(e)}) gebruikt`}}}var P=M,u,E=_({}),O=D(),T=R({language:"EN"});function M(t){E=_(t);let r={addContract:e,addContracts:n};return Object.freeze({contracts:r,IS:a,tryJSON:C});function n(o){if(!T.addContracts_Contract(o))return;let c=Object.entries(o);for(let[d,i]of c)e({...i,paramsChecked:!0,name:d})}function e(o){let{name:c,method:d,expected:i,defaultValue:p,customMessageFn:g,reportFn:k,shouldThrow:x,reportViolationsByDefault:l,paramsChecked:s,isBoolean:m=!1}=o;if(c=c||d?.name,i=i||"unknown",!s&&!O.checkSingleContractParameters({method:d}))return E.reporter(u.contractCreationError);let f=j({name:c,method:d,expected:i,defaultValue:p,reporter:t.reporter,reportFn:k,customMessageFn:g,reportViolationsByDefault:l,isBoolean:m,logViolations:t.logViolations,shouldThrow:x,alwaysThrow:t.alwaysThrow});return Object.defineProperty(r,c,{value:f})}}function _(t){return t.reporter=t.reporter||N,t.logViolations=t.logViolations||!1,t.alwaysThrow=t.alwaysThrow||!1,t.language=b({IS:a,tryJSON:C})[t.language||"EN"],u=t.language,t}function j(t){let{name:r,method:n,expected:e,defaultValue:o,customMessageFn:c,reportFn:d,reporter:i,logViolations:p,shouldThrow:g,reportViolationsByDefault:k,alwaysThrow:x,isBoolean:l}=t;return function(s,...m){let f=n(s,...m),S=$(f)||!l&&!f||l&&!a(s,Boolean),h=a(m[0],Object)&&{...m[0],value:s}||{value:s};if(d=d??i??N,a(c,Function)&&c(h),S){(r||methodName)==="divider"&&console.log(s,m,h);let V=a(e,Function)?e(h):e,w=o||h.defaultValue,[v,y]=[h.reportViolation??k,h.shouldThrow??g];if(v||y||p){let F=B({inputValue:s,defaultValue:w,shouldBe:V.trim(),fnName:r||n.name,isBoolean:l});if(y||x)throw new TypeError(F);i(F)}return l&&a(w,Boolean)?w:w||void 0}return f}}function B(t){let{inputValue:r,defaultValue:n,shouldBe:e,fnName:o,isBoolean:c}=t,d=!$(n)||c&&a(n,Boolean),i=u.report_sorry(o,A(r)),p=u.report_forValue(i),g=u.report_Expected(e);return z(`${p}${g}${d&&u.report_defaultValue(n)||""}`)}function D(){let t=o=>a(o,String)&&o.trim().length;return{nameOk:t,expectedOk:o=>a(o,String)&&o.length||a(o,Function),isMethod:o=>a(o,Function),checkSingleContractParameters:({name:o,method:c}={})=>t(o||c.name)&&a(c,Function)}}function R(){let{nameOk:t,expectedOk:r,isMethod:n,checkSingleContractParameters:e}=O;return{nameOk:t,isMethod:n,expectedOk:r,addContracts_Contract(o){let c=[...Object.entries(o)],d=a(o,Object)&&c.filter(([,i])=>e(i))||void 0;return d.length<c.length&&console.info(u.contractCreationError),d?.length>0?o:void 0},addContract_Contract:e}}function z(t,r=3){return t.replace(/\n/g,`
${" ".repeat(r)}`)}function $(t){return a(t,null,void 0)}function C(t){return H(()=>{let n=JSON.stringify(t);return/Infinity|NaN/.test(n)?n.replace(/"/g,""):n},t)}function A(t){let r=n=>a(n,String)?`"${n}"`:a(n,Object)?C(n):String(n);return a(t,String)?`"${t}"`:a(t,Object)?C(t):/Array\(/.test(t?.constructor.toString())?`[${[...t].map(r)}]`:String(t)}function N(t){console.info(t)}function H(t,r){try{return t()}catch(n){return console.error({isOk:n.name===expected,message:n.message,type:n.name}),r}}export{P as default};
