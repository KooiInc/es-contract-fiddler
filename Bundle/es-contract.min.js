var u=V;function V(t,...r){let n=["NaN","null","undefined"],o=a=>typeof a=="symbol"?Symbol:a;return r.length>1?d(t,...r):e();function e(){let a=o(t),l=r.length>0;return r=l&&r.shift(),l&&c(r)?`${a}`==`${r}`:t===!1?r===Boolean?!0:"Boolean":i();function i(){let s=t===0?Number:t===""?String:a?Object.getPrototypeOf(t)?.constructor:{name:`${a}`};return r?r===s||r===Object.getPrototypeOf(s)||`${r}`===s?.name:s?.name}}function c(a){for(let l of n)if(l===`${a}`)return!0;return!1}function d(a,...l){for(let g of l)if(V(a,g))return!0;return!1}}function b({IS:t,tryJSON:r,contractsPrefix:n}={}){return n=n&&`${n}
`||"",{EN:{unknownOrNa:"unknown or n/a",unknown:"unknown",nameOkExpected:"The contract to add needs a name (String)",isMethodExpected:"The contract to add needs a method (Function)",expectedOkExpected:"The contract to add needs an expected value method (String|Function)",addContracts_Contract_Expected:"the parameter for [addContracts] should be at least { [contractName]: { method: Function, expected: String|Function } }",addContract_Contract_Expected:`addContract parameters should at least be {name, method, expected}
(when method is a named function, the name was derived from that)`,report_sorry:(o,e)=>`\u2718 ${n}Contract violation for contract [${o}], input ${e}`,report_forValue:o=>`${o}`,report_Expected:o=>`
${o}`,report_defaultValue:(o,e)=>o?"":`
Using the contract default value (${t(e,Function)?e.toString():t(e,String)?`"${e}"`:r(e)}) instead`},NL:{unknownOrNa:"onbekend of nvt",unknown:"onbekend",nameOkExpected:"Het contract moet een naam hebben (eigenschap name: String)",isMethodExpected:"Het contract moet kunnen worden uitgevoerd (eigenschap method: Function)",expectedOkExpected:"Het contract moet aangeven wat er wordt verwacht (eigenschap expected: String|Function)",addContracts_Contract_Expected:"De parameter for [addContracts] moet tenminste { [contractName]: { method: Function, expected: String|Function } } zijn",addContract_Contract_Expected:`De invoer vooor [addContract] moet tenminste {name, method, expected} zijn
(wanneer de eigenschap [method] een functie met naam was wordt [name] daarvan afgeleid)`,report_sorry:(o,e)=>`\u2718 ${n} Contractbreuk voor contract [${o}], input ${e}`,report_forValue:o=>`${o}`,report_Expected:o=>`
${o}`,report_defaultValue:(o,e)=>o?"":`
In plaats daarvan wordt de voor dit contract toegekende standaardwaarde (${t(e,Function)?e.toString():t(e,String)?`"${e}"`:r(e)}) gebruikt`}}}var p,J=T,S=M(),N=j();function T(t){a(t);let{reporter:r,logViolations:n,alwaysThrow:o,language:e,contractsPrefix:c}=t;p=b({IS:u,tryJSON:w,contractsPrefix:c})[e];let d={addContract:g,addContracts:l};return I(d),Object.freeze({contracts:d,IS:u,tryJSON:w});function a(i){i.reporter=i.reporter||k,i.logViolations=i.logViolations||!1,i.alwaysThrow=i.alwaysThrow||!1,i.language=i.language||"EN"}function l(i){if(!d.addContracts_Contract(i))return;let s=Object.entries(i);for(let[f,m]of s)g({...m,paramsChecked:!0,name:f})}function g(i=S.addContract){let{name:s,method:f,expected:m,defaultValue:C,customReport:h,reportFn:O,shouldThrow:_,reportViolationsByDefault:y,paramsChecked:x}=i;s=s||f?.name;let F=d.addContract_Contract||N.checkSingleContractParameters;if(!x&&!F({name:s,method:f,expected:m}))return;let E=D({name:s,method:f,expected:m,defaultValue:C,reporter:r,reportFn:O,customReport:h,reportViolationsByDefault:y,logViolations:n,shouldThrow:_,alwaysThrow:o});return Object.defineProperty(d,s,{value:E,enumerable:!0})}}function D(t=S.createContract){let{name:r,method:n,expected:o,defaultValue:e,customReport:c,reportFn:d,reporter:a,logViolations:l,shouldThrow:g,reportViolationsByDefault:i,alwaysThrow:s}=t;return function(f,...m){let C=n(f,...m),h=u(m[0],Object)&&{...m[0],value:f}||{value:f};if(d=d??a??k,u(c,Function)&&c(h),$(C)){let O=u(o,Function)?o(h):o;C=!$(h.defaultValue)||e?h.defaultValue||e:C;let[_,y]=[h.reportViolation??i,h.shouldThrow??g];if(_||y||l){let x=R({inputValue:f,defaultValue:C,shouldBe:O,fnName:r||n.name});if(y||s)throw new TypeError(x);a(x)}}return C}}function M(){let[t,r,n,o,e,c,d]=[...Array(7)];return{get reportViolations(){return{inputValue:d,defaultValue:o,shouldBe:p.unknowOrNa,fnName:p.unknown}},get createContract(){return{name:t,method:r,expected:n,defaultValue:o,customReport:e,reportFn:c,reporter:k,logViolations:!1,shouldThrow:!1,alwaysThrow:!1,reportViolationsByDefault:!1}},get addContract(){return{name:t,method:r,expected:n,defaultValue:o,customReport:e,reportFn:c,reporter:k,shouldThrow:!1,reportViolationsByDefault:!1,paramsChecked:!1}}}}function j(){let t=e=>u(e,String)&&e.trim().length,r=e=>u(e,String)&&e.length||u(e,Function),n=e=>u(e,Function);return{nameOk:t,expectedOk:r,isMethod:n,checkSingleContractParameters:({name:e,method:c,expected:d}={})=>e&&t(e)&&c&&n(c)&&d&&r(d)}}function I(t){let{nameOk:r,expectedOk:n,isMethod:o,checkSingleContractParameters:e}=N;t.addContract({method:r,expected:p.nameOkExpected,reportViolationsByDefault:!0}),t.addContract({method:o,expected:p.isMethodExpected,reportViolationsByDefault:!0}),t.addContract({method:n,expected:p.expectedOkExpected,reportViolationsByDefault:!0}),t.addContract({name:"addContracts_Contract",method:c=>u(c,Object)&&[...Object.entries(c)].filter(([,a])=>a.method&&o(a.method)&&a.expected&&n(a.expected)).length>0?c:void 0,expected:p.addContracts_Contract_Expected,reportViolationsByDefault:!0}),t.addContract({name:"addContract_Contract",method:e,expected:p.addContract_Contract_Expected,reportViolationsByDefault:!0})}function R(t=S.reportViolations){let{inputValue:r,defaultValue:n,shouldBe:o,fnName:e}=t,c=p.report_sorry(e,B(r)),d=p.report_forValue(c),a=p.report_Expected(o),l=p.report_defaultValue($(n),n);return v(`${d}${a}${l}`)}function v(t,r=3){return t.replace(/\n/g,`
${" ".repeat(r)}`)}function $(t){return u(t,void 0,null,NaN)}function w(t){return P(()=>{let n=JSON.stringify(t);return/Infinity|NaN/.test(n)?n.replace(/"/g,""):n},t)}function B(t){let r=n=>u(n,String)?`"${n}"`:u(n,Object)?w(n):String(n);return u(t,String)?`"${t}"`:u(t,Object)?w(t):/Array\(/.test(t?.constructor.toString())?`[${[...t].map(r)}]`:String(t)}function k(t){console.info(t)}function P(t,r){try{return t()}catch(n){return console.error({isOk:n.name===expected,message:n.message,type:n.name}),r}}export{J as default};
